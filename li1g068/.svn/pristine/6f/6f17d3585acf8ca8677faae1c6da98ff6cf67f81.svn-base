all: testA testB testC doc tex/relatorio.pdf


tarefa1: src/tarefa1.hs
	ghc src/tarefa1.hs

tarefa2: src/tarefa2.hs
	ghc src/tarefa2.hs

tarefa3: src/tarefa3.hs
	ghc src/tarefa3.hs

test: test1 test2 test3

test1: src/tarefa1.hs
	cd tests/tarefa_1; bash runtests.sh tab ../../src/tarefa1

test2: src/tarefa2.hs
	cd tests/tarefa_2; bash runtests.sh tab ../../src/tarefa2

test3: src/tarefa3.hs
	cd tests/tarefa_3; bash runtests.sh tab ../../src/tarefa3


doc: doc1 doc2 doc3

doc1: src/tarefa1.hs
	haddock -h -o doc/tarefa_1 src/tarefa1.hs
doc2: src/tarefa2.hs
	haddock -h -o doc/tarefa_2 src/tarefa2.hs
doc3: src/tarefa3.hs
	haddock -h -o doc/tarefa_3 src/tarefa3.hs


clean:
	rm -f src/tarefa1.{hi,o} src/tarefa2.{hi,o} src/tarefa3.{hi,o}
	rm -f tex/relatorio.{aux,log,out,toc,lof}

realclean: clean
	rm -rf doc/tarefa_1 doc/tarefa_2 doc/tarefa_3 src/tarefa1 src/tarefa2 src/tarefa3
	rm -f tex/relatorio.pdf